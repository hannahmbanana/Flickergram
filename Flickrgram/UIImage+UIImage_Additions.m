//
//  UIImage+UIImage_Additions.m
//  Flickrgram
//
//  Created by Hannah Troisi on 2/17/16.
//  Copyright Â© 2016 Hannah Troisi. All rights reserved.
//

#import "UIImage+UIImage_Additions.h"

@implementation UIImage (UIImage_Additions)


- (UIImage *)makeRoundImage
{
  // make a CGRect with the image's size
  CGRect circleRect = (CGRect) {CGPointZero, self.size};
  
  // begin the image context since we're not in a drawRect:
  UIGraphicsBeginImageContextWithOptions(circleRect.size, NO, 0);
  
  // create a UIBezierPath circle
  UIBezierPath *circle = [UIBezierPath bezierPathWithRoundedRect:circleRect cornerRadius:circleRect.size.width/2];
  
  // clip to the circle
  [circle addClip];
  
  // draw the image in the circleRect *AFTER* the context is clipped
  [self drawInRect:circleRect];
  
  // get an image from the image context
  UIImage *roundedImage = UIGraphicsGetImageFromCurrentImageContext();
  
  // end the image context since we're not in a drawRect:
  UIGraphicsEndImageContext();
  
  return roundedImage;
}

@end
